{"ast":null,"code":"import { useRouter } from 'vue-router';\nimport Modal from '@/components/DeleteModal.vue';\nimport { ref } from 'vue';\nimport List from '@/components/List.vue';\nexport default {\n  components: {\n    Modal,\n    List\n  },\n  props: {\n    todos: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['toggle-todo', 'delete-todo'],\n\n  setup(props, {\n    emit\n  }) {\n    const router = useRouter();\n    const showModal = ref(false);\n    const todoDeleteId = ref(null);\n\n    const toggleTodo = index => {\n      emit('toggle-todo', index);\n    };\n\n    const openModal = id => {\n      todoDeleteId.value = id;\n      showModal.value = true;\n    };\n\n    const closeModal = () => {\n      todoDeleteId.value = null;\n      showModal.value = false;\n    };\n\n    const deleteTodo = () => {\n      emit('delete-todo', todoDeleteId.value);\n      showModal.value = false;\n      todoDeleteId.value = null;\n    };\n\n    const moveToPage = todoId => {\n      // router.push('/todos/' + todoId);\n      router.push({\n        name: 'Todo',\n        params: {\n          id: todoId\n        }\n      });\n    };\n\n    return {\n      toggleTodo,\n      deleteTodo,\n      moveToPage,\n      showModal,\n      openModal,\n      closeModal\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA6CA,SAASA,SAAT,QAA0B,YAA1B;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AAEA,eAAe;AACXC,YAAU,EAAE;AACVH,SADU;AAEVE;AAFU,GADD;AAKXE,OAAK,EAAE;AACHC,SAAK,EAAE;AACHC,UAAI,EAAEC,KADH;AAEHC,cAAQ,EAAE;AAFP;AADJ,GALI;AAWXC,OAAK,EAAE,CAAC,aAAD,EAAgB,aAAhB,CAXI;;AAYXC,OAAK,CAACN,KAAD,EAAQ;AAAEO;AAAF,GAAR,EAAkB;AACnB,UAAMC,MAAK,GAAIb,SAAS,EAAxB;AACA,UAAMc,SAAQ,GAAIZ,GAAG,CAAC,KAAD,CAArB;AACA,UAAMa,YAAW,GAAIb,GAAG,CAAC,IAAD,CAAxB;;AACA,UAAMc,UAAS,GAAKC,KAAD,IAAW;AAC5BL,UAAI,CAAC,aAAD,EAAgBK,KAAhB,CAAJ;AACD,KAFD;;AAIA,UAAMC,SAAQ,GAAKC,EAAD,IAAQ;AACxBJ,kBAAY,CAACK,KAAb,GAAqBD,EAArB;AACAL,eAAS,CAACM,KAAV,GAAkB,IAAlB;AACD,KAHD;;AAKA,UAAMC,UAAS,GAAI,MAAM;AACvBN,kBAAY,CAACK,KAAb,GAAqB,IAArB;AACAN,eAAS,CAACM,KAAV,GAAkB,KAAlB;AACD,KAHD;;AAKA,UAAME,UAAS,GAAI,MAAM;AACvBV,UAAI,CAAC,aAAD,EAAgBG,YAAY,CAACK,KAA7B,CAAJ;AAEAN,eAAS,CAACM,KAAV,GAAkB,KAAlB;AACAL,kBAAY,CAACK,KAAb,GAAqB,IAArB;AACD,KALD;;AAOA,UAAMG,UAAS,GAAKC,MAAD,IAAY;AAC7B;AACAX,YAAM,CAACY,IAAP,CAAY;AACVC,YAAI,EAAE,MADI;AAEVC,cAAM,EAAE;AACNR,YAAE,EAAEK;AADE;AAFE,OAAZ;AAOD,KATD;;AAWA,WAAO;AACHR,gBADG;AAEHM,gBAFG;AAGHC,gBAHG;AAIHT,eAJG;AAKHI,eALG;AAMHG;AANG,KAAP;AAQJ;;AAxDW,CAAf","names":["useRouter","Modal","ref","List","components","props","todos","type","Array","required","emits","setup","emit","router","showModal","todoDeleteId","toggleTodo","index","openModal","id","value","closeModal","deleteTodo","moveToPage","todoId","push","name","params"],"sourceRoot":"","sources":["/Applications/kdh3543/vue_practice1/src/components/TodoList.vue"],"sourcesContent":["<template>\n<div>\n  <List :items=\"todos\">\n    <template #default=\"{ item, index }\">\n      <div \n        class=\"card-body p-2 d-flex align-items-center\"\n        style=\"cursor: pointer\"\n        @click=\"moveToPage(item.id)\"\n      >\n        <div class=\"flex-grow-1\">\n          <input \n            class=\"ml-2\"\n            type=\"checkbox\"\n            :checked=\"item.completed\"\n            @change=\"toggleTodo(index, $event)\"\n            @click.stop\n          >\n          <span :class=\"{ todo: item.completed }\">\n            {{ item.subject }}\n          </span>\n        </div>\n        <div>\n          <button \n            class=\"btn btn-danger btn-sm\"\n            @click.stop=\"openModal(item.id)\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </template>\n  </List>\n  \n  <teleport to=\"#modal\">\n    <Modal \n      v-if=\"showModal\"\n      @close=\"closeModal\"\n      @delete=\"deleteTodo\"\n    />\n  </teleport>\n</div>\n  \n</template>\n\n<script>\nimport { useRouter } from 'vue-router';\nimport Modal from '@/components/DeleteModal.vue';\nimport { ref } from 'vue';\nimport List from '@/components/List.vue';\n\nexport default {\n    components: {\n      Modal,\n      List\n    },\n    props: {\n        todos: {\n            type: Array,\n            required: true\n        }\n    },\n    emits: ['toggle-todo', 'delete-todo'],\n    setup(props, { emit }) {\n        const router = useRouter();\n        const showModal = ref(false);\n        const todoDeleteId = ref(null);\n        const toggleTodo = (index) => {\n          emit('toggle-todo', index);\n        };\n\n        const openModal = (id) => {\n          todoDeleteId.value = id;\n          showModal.value = true;\n        };\n\n        const closeModal = () => {\n          todoDeleteId.value = null;\n          showModal.value = false;\n        };\n        \n        const deleteTodo = () => {\n          emit('delete-todo', todoDeleteId.value);\n\n          showModal.value = false;\n          todoDeleteId.value = null;\n        };\n\n        const moveToPage = (todoId) => {\n          // router.push('/todos/' + todoId);\n          router.push({\n            name: 'Todo',\n            params: {\n              id: todoId\n            }\n          });\n\n        };\n\n        return {\n            toggleTodo,\n            deleteTodo,\n            moveToPage,\n            showModal,\n            openModal,\n            closeModal,\n        };\n    }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}